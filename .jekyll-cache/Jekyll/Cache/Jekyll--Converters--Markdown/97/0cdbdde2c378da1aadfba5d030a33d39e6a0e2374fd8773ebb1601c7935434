I"<p>列举nginx的一些配置参数</p>

<h4 id="worker_processes">worker_processes</h4>

<blockquote>
  <p>进程数，默认为1</p>
</blockquote>

<h3 id="event中的配置参数">event中的配置参数</h3>

<h4 id="worker_connections">worker_connections</h4>

<blockquote>
  <p>每个进程允许的最大连接数</p>
</blockquote>

<h4 id="accept_mutex-on">accept_mutex on</h4>

<blockquote>
  <p>网络连接序列化，防止多个进程同时启动，造成堵塞和浪费</p>

  <p>默认为 on</p>
</blockquote>

<h4 id="multi_accept-on">multi_accept on</h4>

<blockquote>
  <p>一个进程是否允许同时接受多个网络连接，开启后，可以提升性能</p>

  <p>默认为 off</p>
</blockquote>

<h4 id="use-epoll">use epoll</h4>

<blockquote>
  <table>
    <tbody>
      <tr>
        <td>事件驱动模型select</td>
        <td>poll</td>
        <td>kqueue</td>
        <td>epoll</td>
        <td>resig</td>
        <td>/dev/poll</td>
        <td>eventport</td>
      </tr>
    </tbody>
  </table>

  <p>默认会选中符合当前系统的模型</p>
</blockquote>

<h3 id="http中的配置参数">http中的配置参数</h3>

<h4 id="include-mimetypes">include mime.types</h4>

<blockquote>
  <p>允许访问的格式储存在这个文件中,打开文件可以看到很多文件的格式</p>
</blockquote>

<p><img src="/images/2020-02-02-14.jpg" alt="" /></p>

<h4 id="log_format-main">log_format main</h4>

<blockquote>
  <p>日志格式，main为格式的名称 后面的字符串为日志的生成格式<br />
‘$remote_addr - $remote_user [$time_local] “$request” ‘<br />
‘$status $body_bytes_sent “$http_referer” ‘<br />
‘“$http_user_agent” “$http_x_forwarded_for”’;</p>
</blockquote>

<h4 id="access_log--varlognginxaccesslog--main">access_log  /var/log/nginx/access.log  main</h4>

<blockquote>
  <p>日志路径和日志格式，日志格式由上方的log_format定义</p>
</blockquote>

<h4 id="sendfile-on">sendfile on</h4>

<blockquote>
  <p>是否调用sendfile函数传输文件，使用sendfile可以提升服务器性能，默认为off<br />
普通应用建议开启，对于进行下载的等磁盘IO重负载应用建议off</p>
</blockquote>

<h4 id="sendfile_max_chunk-128k">sendfile_max_chunk 128k</h4>

<blockquote>
  <p>每个子进程调用sendfile函数传输的最大值，默认0（不限制）</p>
</blockquote>

<h4 id="tcp_nopush-on">tcp_nopush on</h4>

<blockquote>
  <p>当应用产生数据时，内核不会马上封装数据包，当积累到一定量时再进行封装，传输，默认为on</p>
</blockquote>

<h4 id="keepalive_timeout-65-60">keepalive_timeout 65 60</h4>

<blockquote>
  <p>参数一，服务器与客户端会话结束后仍保持连接的最长时间，默认75<br />
参数二，针对浏览器，何时进行主动关闭连接。有些浏览器不认可该参数</p>
</blockquote>

<h4 id="send_timeout">send_timeout</h4>

<blockquote>
  <p>发送响应的超时时间，超过时间nginx会关闭连接</p>
</blockquote>

<h4 id="client_max_body_size-10m">client_max_body_size 10m</h4>

<blockquote>
  <p>http包允许的最大大小，根据Content-length值大小进行检测，超过之后会返回413</p>
</blockquote>

<h4 id="gzip-on">gzip on</h4>

<blockquote>
  <p>是否开启gzip</p>
</blockquote>
:ET